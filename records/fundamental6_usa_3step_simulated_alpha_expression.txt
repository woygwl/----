trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_loxdr, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_median / fnd6_rea, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_tstkq), 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newa2v1300_optexd, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_pstknq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(zscore(anl4_capex_std / anl4_netprofita_low),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_acdo, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_arg_max(anl4_capex_low / vwap, 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_recd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-inverse(winsorize(ts_backfill(vec_sum(fnd6_emps), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ds, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(winsorize(ts_backfill(fnd6_ds, 120), std=4),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_zscore(anl4_ebitda_value / fnd6_newa2v1300_xsga, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_low / sales_ps, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_median / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_scale(anl4_ebitda_value / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(rank(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optvolq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_cshiq), 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_eventv110_optlifeq), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-quantile(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_cstkeq), 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_std_dev(winsorize(ts_backfill(fnd6_newa2v1300_mib, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ppents), 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_zscore(winsorize(ts_backfill(fnd6_newa1v1300_lo, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebit_value / enterprise_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / pv13_revere_key_sector_total, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfi_low / fnd6_fopox, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebit_value / fnd6_newa2v1300_oibdp, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_high / fnd6_newqv1300_lltq, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_low / fnd6_dudd, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_std_dev(anl4_cfo_low / rel_num_part, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_delta(anl4_capex_high / fnd6_newa2v1300_oibdp, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / enterprise_value, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_scale(anl4_capex_high / pv13_revere_index_cap, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrcta, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(vec_avg(fnd6_eventv110_optvolq), 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(winsorize(ts_backfill(fnd6_newqv1300_rdipq, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_high / rel_num_cust, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(fnd6_mrc5, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(winsorize(ts_backfill(fnd6_esopnr, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cff_low / enterprise_value, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(winsorize(ts_backfill(cashflow_fin, 120), std=4), 66), densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_cfo_value / pv13_revere_term_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / anl4_totassets_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_delta(anl4_ebit_value / fnd6_newa2v1300_oibdp, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(vec_sum(fnd6_newqeventv110_drcq), 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_ppents), 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_low / anl4_ptpr_low, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(vec_sum(fnd6_ranks), 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-reverse(winsorize(ts_backfill(fnd6_ciother, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(vec_avg(fnd6_newqeventv110_optrfrq), 120), std=4), 240), densify(bucket(group_rank(cap,sector), range='0, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_rank(anl4_capex_low / pv13_revere_index_value, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_high / enterprise_value, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_capex_low / anl4_ptpr_median, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_ebitda_value / fnd6_newa1v1300_cshfd, 22),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / pv13_revere_key_sector_total, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(-ts_product(anl4_cfo_high / fnd2_oprlsfmpdcurr, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_capex_value / fnd6_newa1v1300_gp, 22),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(anl4_epsr_flag / split, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_rank(anl4_cfi_low / fnd6_niadj, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(-ts_quantile(anl4_cfi_low / fnd6_newa2v1300_ni, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(anl4_epsr_flag / split, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(anl4_epsr_flag / split, 240),densify(market)), abs(returns) > 0.1)
