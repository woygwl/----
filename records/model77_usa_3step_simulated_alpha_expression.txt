trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2earningmomentumfactor400_gspea1q, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_growthanalystmodel_qga_opmarginsales, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_shortsentimentfactor_act_util, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_ohistoricalgrowthfactor_slope4qcf3y, 120), std=4), 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(quantile(winsorize(ts_backfill(mdl77_2liquidityriskfactor_divcov, 120), std=4)),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_2momemtumanalystmodel_qma_condsurp, 120), std=4), 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(winsorize(ts_backfill(mdl77_2400_rev3my1std, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_std / anl4_ebitda_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebit_low / news_eod_close, 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / anl4_ptp_low, 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(anl4_ebitda_high / fnd6_newqv1300_cshfdq, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_rank(anl4_ebitda_high / anl4_gric_low, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_zscore(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_arg_max(anl4_cff_low / fnd6_recd, 120),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(market)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(industry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_sum(winsorize(ts_backfill(mdl77_historicalgrowthfactor_slope4qcf3y, 120), std=4), 240),densify(sector)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_max(close, 5) == 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_scale(ts_sum(winsorize(ts_backfill(mdl77_2growthanalystmodel_qga_epscapex, 120), std=4), 22),densify(subindustry)), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_zscore(returns,60) > 2, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 5) == 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_neutralize(ts_product(winsorize(ts_backfill(mdl77_2earningsqualityfactor_opincltd, 120), std=4), 5),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_mean(volume,10)>ts_mean(volume,60), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) < 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(group_rank(ts_std_dev(returns,60), sector) > 0.7, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_zscore(returns,60) > 2, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_min(volume, 5) > 3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_std_dev(returns, 5) > ts_std_dev(returns, 20), group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 5) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 5) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_arg_max(close, 20) == 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.3, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 5) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_corr(close, volume, 20) > 0.5, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(20), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_regression(returns, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), 20, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), -1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), abs(returns) > 0.1)
trade_when(ts_arg_max(volume, 5) == 0, group_zscore(ts_arg_min(winsorize(ts_backfill(mdl77_oput_put_cashburn, 120), std=4), 66),densify(bucket(group_rank(cap,sector),range='0,1,0.1'))), days_from_last_change(ern3_pre_reptime) > 20)
trade_when(ts_regression(returns, ts_step(5), 5, lag = 0, rettype = 2) > 0, group_rank(ts_arg_min(winsorize(ts_backfill(mdl77_2historicalgrowthfactor_fcoghc, 120), std=4), 240),densify(bucket(rank(cap), range='0.1, 1, 0.1'))), abs(returns) > 0.1)
